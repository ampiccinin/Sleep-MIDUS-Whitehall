{
    "contents" : "# remove all elements for a clean start\nrm(list=ls(all=TRUE))\n\n#####LOADING DATA#####\n\n## @knitr LoadData\ndata_BIOMARKER <- load(\"./Data/Raw/data_BIOMARKER.rda\")\ndata_COGNITION <- load(\"./Data/Raw/data_COGNITIVE.rda\")\ndata_BIOMARKER <- da29282.0001\ndata_COGNITION<- da25281.0001\n\n#Load data with control variables\nlibrary(Hmisc)\nlibrary(foreign)\ndata_CONTROLS <- spss.get(\"./Data/Raw/04652-0001-Data.sav\", use.value.labels=TRUE)\n\nd0 <- merge(data_BIOMARKER,data_COGNITION,by=\"M2ID\", all=TRUE)\nMIDUS <- merge(d0,data_CONTROLS,by=\"M2ID\", all=TRUE)\n\n\n#####VARIABLES#####\n\n#Object with MIDUS II participant variables (ID, age, gender)\nMIDUS_pvars <- c('M2ID', 'B1PAGE_M2.x', 'B1PGENDER.x')\n\n#Object with MIDUS II cognitive variables (episodic memory, EF)\nMIDUS_cogvars <- c('M2ID', 'B3TEMZ3', 'B3TEFZ3')\n\n#Object with MIDUS II variables to control for\nMIDUS_controls <- c('M2ID', 'B1PB1', 'B1SA11T', 'B1SA1', 'B1PA1', 'B1PA2')\n\n##codes:\n#education B1PB1\n#depression - B1SA11T\n#health status - B1SA1\n#physical health - B1PA1\n#psychological health - B1PA2\n\n#Object with MIDUS II participant, cognitive, and control variables\nMIDUSvars <- c(\n  'M2ID',    'B1PAGE_M2.x', 'B1PGENDER.x',\n  'B3TEMZ3', 'B3TEFZ3',\n  'B1PB1',   'B1SA11T', 'B1SA1', 'B1PA1', 'B1PA2')\n\n#Object with MIDUS II PSQ variables (for MIDUS_PSQ)\nMIDUS_PSQ <- c(\n  'M2ID',\n  'B4S4',   'B4S5',   'B4S7',    \n  'B4S11A', 'B4S11B', 'B4S11C', 'B4S11D', 'B4S11E',\n  'B4S11F', 'B4S11G', 'B4S11H', 'B4S11I', 'B4S11J')\n\n#object with MIDUS daily sleep variables\nMIDUS_sleepdaily <- c( \n  'M2ID',\n  ## Sleep medications (item 7, MED):\n  'B4AD17',  'B4AD27', 'B4AD37', 'B4AD47', 'B4AD57', 'B4AD67', 'B4AD77',\n  \n  ## Sleep difficulty (item 10, SDIFF)\n  'B4AD110', 'B4AD210', 'B4AD310', 'B4AD410', 'B4AD510', 'B4AD610', 'B4AD710', \n  \n  ## No. times woke last night (item 11, WAKE)\n  'B4AD111', 'B4AD211', 'B4AD311', 'B4AD411', 'B4AD511', 'B4AD611', 'B4AD711',\n  \n  ## Trouble getting back to sleep if woke (item 13, TRSLEEP)\n  'B4AD113', 'B4AD213', 'B4AD313', 'B4AD413', 'B4AD513', 'B4AD613', 'B4AD713',\n  \n  ## Overall sleep quality (item 20, DSSQUAL)\n  'B4AD120', 'B4AD220',  'B4AD320',  'B4AD420',  'B4AD520',  'B4AD620',  'B4AD720',  \n  \n  ## Sleep start time (item 18)\n  'B4AD18',  'B4AD28',  'B4AD38',  'B4AD48',  'B4AD58',  'B4AD68',  'B4AD78', \n  'B4AD18A', 'B4AD28A', 'B4AD38A', 'B4AD48A', 'B4AD58A', 'B4AD68A', 'B4AD78A',\n  \n  ## Minutes to sleep (item 19)\n  'B4AD19', 'B4AD29', 'B4AD39', 'B4AD49', 'B4AD59', 'B4AD69', 'B4AD79',\n  \n  ## Sleep end time (item 15)\n  'B4AD115',  'B4AD215',  'B4AD315',  'B4AD415',  'B4AD515',  'B4AD615',  'B4AD715', \n  'B4AD115A', 'B4AD215A', 'B4AD315A', 'B4AD415A', 'B4AD515A', 'B4AD615A', 'B4AD715A')\n\n#Variables pulled out of MIDUS\nd_MIDUS <- MIDUS[MIDUSvars]\nd_MIDUS_PSQ<- MIDUS[MIDUS_PSQ]\nd_MIDUS_sleepdaily <-MIDUS[MIDUS_sleepdaily]\n\n#####DATA SETS#####\nd0_MIDUS_PSQ <- merge(d_MIDUS,d_MIDUS_PSQ,by=\"M2ID\")\nd0_MIDUS_sleepdaily<- merge(d_MIDUS,d_MIDUS_sleepdaily,by=\"M2ID\")\n\n#Create new dataset without missing data \nd0_PSQ <- na.omit(d0_MIDUS_PSQ)\nd0_sleepdaily <- na.omit(d0_MIDUS_sleepdaily)\n\n\n\n#####CONVERTING FACTOR TO NUMERIC IN d0_PSQ#####\n\n#Convert GENDER to numeric in d0_PSQ\nd0_PSQ$GENDER[d0_PSQ$B1PGENDER.x==\"(1) MALE\"] <- \"1\"\nd0_PSQ$GENDER[d0_PSQ$B1PGENDER.x==\"(2) FEMALE\"] <- \"2\"\nd0_PSQ$GENDER = as.numeric(d0_PSQ$GENDER)\n#checks to see if it is numeric:\nis.numeric(d0_PSQ$GENDER)\n\n#Convert Sleep Quality to numeric in d0_PSQ\n#Fairly, Good, Fairly Bad, Very Bad is condensed into \"Bad\" containing both groups\nd0_PSQ$SQUAL[d0_PSQ$B4S5==\"(1) 1=VERY GOOD\"] <- \"1\"\nd0_PSQ$SQUAL[d0_PSQ$B4S5==\"(2) 2=FAIRLY GOOD\"] <- \"2\"\nd0_PSQ$SQUAL[d0_PSQ$B4S5==\"(3) 3=FAIRLY BAD\"] <- \"2\"\nd0_PSQ$SQUAL[d0_PSQ$B4S5==\"(4) 4=VERY BAD\"] <- \"2\"\nd0_PSQ$SQUAL = as.numeric(d0_PSQ$SQUAL)\n#checks to see if it is numeric:\nis.numeric(d0_PSQ$SQUAL)\n\n#Convert Sleep Disturbance to numeric in d0_PSQ\nd0_PSQ$SDISA[d0_PSQ$B4S11A==\"(1) 1=NOT DURING PAST MONTH\"] <- \"1\"\nd0_PSQ$SDISA[d0_PSQ$B4S11A==\"(2) 2=LESS THAN 1 X WEEK\"] <- \"2\"\nd0_PSQ$SDISA[d0_PSQ$B4S11A==\"(3) 3=1-2 X WEEK\"] <- \"3\"\nd0_PSQ$SDISA[d0_PSQ$B4S11A==\"(4) 4=3+ WEEK\"] <- \"4\"\nd0_PSQ$SDISA = as.numeric(d0_PSQ$SDISA)\n\n#####\n\nd0_PSQ$SDISB[d0_PSQ$B4S11B==\"(1) 1=NOT DURING PAST MONTH\"] <- \"1\"\nd0_PSQ$SDISB[d0_PSQ$B4S11B==\"(2) 2=LESS THAN 1 X WEEK\"] <- \"2\"\nd0_PSQ$SDISB[d0_PSQ$B4S11B==\"(3) 3=1-2 X WEEK\"] <- \"3\"\nd0_PSQ$SDISB[d0_PSQ$B4S11B==\"(4) 4=3+ WEEK\"] <- \"4\"\nd0_PSQ$SDISB = as.numeric(d0_PSQ$SDISB)\n\n#####\n\nd0_PSQ$SDISC[d0_PSQ$B4S11C==\"(1) 1=NOT DURING PAST MONTH\"] <- \"1\"\nd0_PSQ$SDISC[d0_PSQ$B4S11C==\"(2) 2=LESS THAN 1 X WEEK\"] <- \"2\"\nd0_PSQ$SDISC[d0_PSQ$B4S11C==\"(3) 3=1-2 X WEEK\"] <- \"3\"\nd0_PSQ$SDISC[d0_PSQ$B4S11C==\"(4) 4=3+ WEEK\"] <- \"4\"\nd0_PSQ$SDISC = as.numeric(d0_PSQ$SDISC)\n\n\n#####\n\nd0_PSQ$SDISD[d0_PSQ$B4S11D==\"(1) 1=NOT DURING PAST MONTH\"] <- \"1\"\nd0_PSQ$SDISD[d0_PSQ$B4S11D==\"(2) 2=LESS THAN 1 X WEEK\"] <- \"2\"\nd0_PSQ$SDISD[d0_PSQ$B4S11D==\"(3) 3=1-2 X WEEK\"] <- \"3\"\nd0_PSQ$SDISD[d0_PSQ$B4S11D==\"(4) 4=3+ WEEK\"] <- \"4\"\nd0_PSQ$SDISD = as.numeric(d0_PSQ$SDISD)\n\n#####\n\nd0_PSQ$SDISE[d0_PSQ$B4S11E==\"(1) 1=NOT DURING PAST MONTH\"] <- \"1\"\nd0_PSQ$SDISE[d0_PSQ$B4S11E==\"(2) 2=LESS THAN 1 X WEEK\"] <- \"2\"\nd0_PSQ$SDISE[d0_PSQ$B4S11E==\"(3) 3=1-2 X WEEK\"] <- \"3\"\nd0_PSQ$SDISE[d0_PSQ$B4S11E==\"(4) 4=3+ WEEK\"] <- \"4\"\nd0_PSQ$SDISE = as.numeric(d0_PSQ$SDISE)\n\n#####\n\nd0_PSQ$SDISF[d0_PSQ$B4S11F==\"(1) 1=NOT DURING PAST MONTH\"] <- \"1\"\nd0_PSQ$SDISF[d0_PSQ$B4S11F==\"(2) 2=LESS THAN 1 X WEEK\"] <- \"2\"\nd0_PSQ$SDISF[d0_PSQ$B4S11F==\"(3) 3=1-2 X WEEK\"] <- \"3\"\nd0_PSQ$SDISF[d0_PSQ$B4S11F==\"(4) 4=3+ WEEK\"] <- \"4\"\nd0_PSQ$SDISF = as.numeric(d0_PSQ$SDISF)\n\n#####\n\nd0_PSQ$SDISG[d0_PSQ$B4S11G==\"(1) 1=NOT DURING PAST MONTH\"] <- \"1\"\nd0_PSQ$SDISG[d0_PSQ$B4S11G==\"(2) 2=LESS THAN 1 X WEEK\"] <- \"2\"\nd0_PSQ$SDISG[d0_PSQ$B4S11G==\"(3) 3=1-2 X WEEK\"] <- \"3\"\nd0_PSQ$SDISG[d0_PSQ$B4S11G==\"(4) 4=3+ WEEK\"] <- \"4\"\nd0_PSQ$SDISG = as.numeric(d0_PSQ$SDISG)\n\n#####\n\nd0_PSQ$SDISH[d0_PSQ$B4S11H==\"(1) 1=NOT DURING PAST MONTH\"] <- \"1\"\nd0_PSQ$SDISH[d0_PSQ$B4S11H==\"(2) 2=LESS THAN 1 X WEEK\"] <- \"2\"\nd0_PSQ$SDISH[d0_PSQ$B4S11H==\"(3) 3=1-2 X WEEK\"] <- \"3\"\nd0_PSQ$SDISH[d0_PSQ$B4S11H==\"(4) 4=3+ WEEK\"] <- \"4\"\nd0_PSQ$SDISH = as.numeric(d0_PSQ$SDISH)\n\n#####\n\nd0_PSQ$SDISI[d0_PSQ$B4S11I==\"(1) 1=NOT DURING PAST MONTH\"] <- \"1\"\nd0_PSQ$SDISI[d0_PSQ$B4S11I==\"(2) 2=LESS THAN 1 X WEEK\"] <- \"2\"\nd0_PSQ$SDISI[d0_PSQ$B4S11I==\"(3) 3=1-2 X WEEK\"] <- \"3\"\nd0_PSQ$SDISI[d0_PSQ$B4S11I==\"(4) 4=3+ WEEK\"] <- \"4\"\nd0_PSQ$SDISI = as.numeric(d0_PSQ$SDISI)\n\n#####\n\nd0_PSQ$SDISJ[d0_PSQ$B4S11J==\"(1) 1=NOT DURING PAST MONTH\"] <- \"1\"\nd0_PSQ$SDISJ[d0_PSQ$B4S11J==\"(2) 2=LESS THAN 1 X WEEK\"] <- \"2\"\nd0_PSQ$SDISJ[d0_PSQ$B4S11J==\"(3) 3=1-2 X WEEK\"] <- \"3\"\nd0_PSQ$SDISJ[d0_PSQ$B4S11J==\"(4) 4=3+ WEEK\"] <- \"4\"\nd0_PSQ$SDISJ = as.numeric(d0_PSQ$SDISJ)\n\n#Syntax to SUM Sleep Disturbance scores\nd0_PSQ$SDis <- d0_PSQ$SDISA + d0_PSQ$SDISB + d0_PSQ$SDISC + d0_PSQ$SDISD + d0_PSQ$SDISE + d0_PSQ$SDISF + d0_PSQ$SDISG + d0_PSQ$SDISH + d0_PSQ$SDISI + d0_PSQ$SDISJ\n\n\n\n#####CONVERTING FACTOR TO NUMERIC IN d0_sleepdaily#####\n\nd0_sleepdaily$MED1[d0_sleepdaily$B4AD17==\"(1) YES\"] <- \"1\"\nd0_sleepdaily$MED1[d0_sleepdaily$B4AD17==\"(2) NO\"] <- \"2\"\nd0_sleepdaily$MED1 = as.numeric(d0_sleepdaily$MED1)\n\nd0_sleepdaily$MED2[d0_sleepdaily$B4AD27==\"(1) YES\"] <- \"1\"\nd0_sleepdaily$MED2[d0_sleepdaily$B4AD27==\"(2) NO\"] <- \"2\"\nd0_sleepdaily$MED2 = as.numeric(d0_sleepdaily$MED2)\n\nd0_sleepdaily$MED3[d0_sleepdaily$B4AD37==\"(1) YES\"] <- \"1\"\nd0_sleepdaily$MED3[d0_sleepdaily$B4AD37==\"(2) NO\"] <- \"2\"\nd0_sleepdaily$MED3 = as.numeric(d0_sleepdaily$MED3)\n\nd0_sleepdaily$MED4[d0_sleepdaily$B4AD47==\"(1) YES\"] <- \"1\"\nd0_sleepdaily$MED4[d0_sleepdaily$B4AD47==\"(2) NO\"] <- \"2\"\nd0_sleepdaily$MED4 = as.numeric(d0_sleepdaily$MED4)\n\nd0_sleepdaily$MED5[d0_sleepdaily$B4AD57==\"(1) YES\"] <- \"1\"\nd0_sleepdaily$MED5[d0_sleepdaily$B4AD57==\"(2) NO\"] <- \"2\"\nd0_sleepdaily$MED5 = as.numeric(d0_sleepdaily$MED5)\n\nd0_sleepdaily$MED6[d0_sleepdaily$B4AD67==\"(1) YES\"] <- \"1\"\nd0_sleepdaily$MED6[d0_sleepdaily$B4AD67==\"(2) NO\"] <- \"2\"\nd0_sleepdaily$MED6 = as.numeric(d0_sleepdaily$MED6)\n\nd0_sleepdaily$MED7[d0_sleepdaily$B4AD77==\"(1) YES\"] <- \"1\"\nd0_sleepdaily$MED7[d0_sleepdaily$B4AD77==\"(2) NO\"] <- \"2\"\nd0_sleepdaily$MED7 = as.numeric(d0_sleepdaily$MED7)\n\nd0_sleepdaily$SDIFF1[d0_sleepdaily$B4AD110==\"(1) VERY EASY\"] <- \"1\"\nd0_sleepdaily$SDIFF1[d0_sleepdaily$B4AD110==\"(2) 2\"] <- \"2\"\nd0_sleepdaily$SDIFF1[d0_sleepdaily$B4AD110==\"(3) 3\"] <- \"3\"\nd0_sleepdaily$SDIFF1[d0_sleepdaily$B4AD110==\"(4) 4\"] <- \"4\"\nd0_sleepdaily$SDIFF1[d0_sleepdaily$B4AD110==\"(5) VERY DIFFICULT\"] <- \"5\"\nd0_sleepdaily$SDIFF1 = as.numeric(d0_sleepdaily$SDIFF1)\n\nd0_sleepdaily$SDIFF2[d0_sleepdaily$B4AD210==\"(1) VERY EASY\"] <- \"1\"\nd0_sleepdaily$SDIFF2[d0_sleepdaily$B4AD210==\"(2) 2\"] <- \"2\"\nd0_sleepdaily$SDIFF2[d0_sleepdaily$B4AD210==\"(3) 3\"] <- \"3\"\nd0_sleepdaily$SDIFF2[d0_sleepdaily$B4AD210==\"(4) 4\"] <- \"4\"\nd0_sleepdaily$SDIFF2[d0_sleepdaily$B4AD210==\"(5) VERY DIFFICULT\"] <- \"5\"\nd0_sleepdaily$SDIFF2 = as.numeric(d0_sleepdaily$SDIFF2)\n\nd0_sleepdaily$SDIFF3[d0_sleepdaily$B4AD310==\"(1) VERY EASY\"] <- \"1\"\nd0_sleepdaily$SDIFF3[d0_sleepdaily$B4AD310==\"(2) 2\"] <- \"2\"\nd0_sleepdaily$SDIFF3[d0_sleepdaily$B4AD310==\"(3) 3\"] <- \"3\"\nd0_sleepdaily$SDIFF3[d0_sleepdaily$B4AD310==\"(4) 4\"] <- \"4\"\nd0_sleepdaily$SDIFF3[d0_sleepdaily$B4AD310==\"(5) VERY DIFFICULT\"] <- \"5\"\nd0_sleepdaily$SDIFF3 = as.numeric(d0_sleepdaily$SDIFF3)\n\nd0_sleepdaily$SDIFF4[d0_sleepdaily$B4AD410==\"(1) VERY EASY\"] <- \"1\"\nd0_sleepdaily$SDIFF4[d0_sleepdaily$B4AD410==\"(2) 2\"] <- \"2\"\nd0_sleepdaily$SDIFF4[d0_sleepdaily$B4AD410==\"(3) 3\"] <- \"3\"\nd0_sleepdaily$SDIFF4[d0_sleepdaily$B4AD410==\"(4) 4\"] <- \"4\"\nd0_sleepdaily$SDIFF4[d0_sleepdaily$B4AD410==\"(5) VERY DIFFICULT\"] <- \"5\"\nd0_sleepdaily$SDIFF4 = as.numeric(d0_sleepdaily$SDIFF4)\n\nd0_sleepdaily$SDIFF5[d0_sleepdaily$B4AD510==\"(1) VERY EASY\"] <- \"1\"\nd0_sleepdaily$SDIFF5[d0_sleepdaily$B4AD510==\"(2) 2\"] <- \"2\"\nd0_sleepdaily$SDIFF5[d0_sleepdaily$B4AD510==\"(3) 3\"] <- \"3\"\nd0_sleepdaily$SDIFF5[d0_sleepdaily$B4AD510==\"(4) 4\"] <- \"4\"\nd0_sleepdaily$SDIFF5[d0_sleepdaily$B4AD510==\"(5) VERY DIFFICULT\"] <- \"5\"\nd0_sleepdaily$SDIFF5 = as.numeric(d0_sleepdaily$SDIFF5)\n\nd0_sleepdaily$SDIFF6[d0_sleepdaily$B4AD610==\"(1) VERY EASY\"] <- \"1\"\nd0_sleepdaily$SDIFF6[d0_sleepdaily$B4AD610==\"(2) 2\"] <- \"2\"\nd0_sleepdaily$SDIFF6[d0_sleepdaily$B4AD610==\"(3) 3\"] <- \"3\"\nd0_sleepdaily$SDIFF6[d0_sleepdaily$B4AD610==\"(4) 4\"] <- \"4\"\nd0_sleepdaily$SDIFF6[d0_sleepdaily$B4AD610==\"(5) VERY DIFFICULT\"] <- \"5\"\nd0_sleepdaily$SDIFF6 = as.numeric(d0_sleepdaily$SDIFF6)\n\nd0_sleepdaily$SDIFF7[d0_sleepdaily$B4AD710==\"(1) VERY EASY\"] <- \"1\"\nd0_sleepdaily$SDIFF7[d0_sleepdaily$B4AD710==\"(2) 2\"] <- \"2\"\nd0_sleepdaily$SDIFF7[d0_sleepdaily$B4AD710==\"(3) 3\"] <- \"3\"\nd0_sleepdaily$SDIFF7[d0_sleepdaily$B4AD710==\"(4) 4\"] <- \"4\"\nd0_sleepdaily$SDIFF7[d0_sleepdaily$B4AD710==\"(5) VERY DIFFICULT\"] <- \"5\"\nd0_sleepdaily$SDIFF7 = as.numeric(d0_sleepdaily$SDIFF7)\n\nd0_sleepdaily$SDIFF <- (d0_sleepdaily$SDIFF1 + \n                         d0_sleepdaily$SDIFF2 + \n                         d0_sleepdaily$SDIFF3 + \n                         d0_sleepdaily$SDIFF4 + \n                         d0_sleepdaily$SDIFF5 + \n                         d0_sleepdaily$SDIFF6 + \n                         d0_sleepdaily$SDIFF7)/7\n\nd0_sleepdaily$WAKE <-  (d0_sleepdaily$B4AD111 + \n                         d0_sleepdaily$B4AD211 +\n                         d0_sleepdaily$B4AD311 +\n                         d0_sleepdaily$B4AD411 +\n                         d0_sleepdaily$B4AD511 +\n                         d0_sleepdaily$B4AD611 +\n                         d0_sleepdaily$B4AD711)/7\n\nd0_sleepdaily$DSQUAL1[d0_sleepdaily$B4AD120==\"(1) VERY GOOD\"] <- \"1\"\nd0_sleepdaily$DSQUAL1[d0_sleepdaily$B4AD120==\"(2) 2\"] <- \"2\"\nd0_sleepdaily$DSQUAL1[d0_sleepdaily$B4AD120==\"(3) 3\"] <- \"3\"\nd0_sleepdaily$DSQUAL1[d0_sleepdaily$B4AD120==\"(4) 4\"] <- \"4\"\nd0_sleepdaily$DSQUAL1[d0_sleepdaily$B4AD120==\"(5) VERY POOR\"] <- \"5\"\nd0_sleepdaily$DSQUAL1 = as.numeric(d0_sleepdaily$DSQUAL1)\n\nd0_sleepdaily$DSQUAL2[d0_sleepdaily$B4AD220==\"(1) VERY GOOD\"] <- \"1\"\nd0_sleepdaily$DSQUAL2[d0_sleepdaily$B4AD220==\"(2) 2\"] <- \"2\"\nd0_sleepdaily$DSQUAL2[d0_sleepdaily$B4AD220==\"(3) 3\"] <- \"3\"\nd0_sleepdaily$DSQUAL2[d0_sleepdaily$B4AD220==\"(4) 4\"] <- \"4\"\nd0_sleepdaily$DSQUAL2[d0_sleepdaily$B4AD220==\"(5) VERY POOR\"] <- \"5\"\nd0_sleepdaily$DSQUAL2 = as.numeric(d0_sleepdaily$DSQUAL2)\n\nd0_sleepdaily$DSQUAL3[d0_sleepdaily$B4AD320==\"(1) VERY GOOD\"] <- \"1\"\nd0_sleepdaily$DSQUAL3[d0_sleepdaily$B4AD320==\"(2) 2\"] <- \"2\"\nd0_sleepdaily$DSQUAL3[d0_sleepdaily$B4AD320==\"(3) 3\"] <- \"3\"\nd0_sleepdaily$DSQUAL3[d0_sleepdaily$B4AD320==\"(4) 4\"] <- \"4\"\nd0_sleepdaily$DSQUAL3[d0_sleepdaily$B4AD320==\"(5) VERY POOR\"] <- \"5\"\nd0_sleepdaily$DSQUAL3 = as.numeric(d0_sleepdaily$DSQUAL3)\n\nd0_sleepdaily$DSQUAL4[d0_sleepdaily$B4AD420==\"(1) VERY GOOD\"] <- \"1\"\nd0_sleepdaily$DSQUAL4[d0_sleepdaily$B4AD420==\"(2) 2\"] <- \"2\"\nd0_sleepdaily$DSQUAL4[d0_sleepdaily$B4AD420==\"(3) 3\"] <- \"3\"\nd0_sleepdaily$DSQUAL4[d0_sleepdaily$B4AD420==\"(4) 4\"] <- \"4\"\nd0_sleepdaily$DSQUAL4[d0_sleepdaily$B4AD420==\"(5) VERY POOR\"] <- \"5\"\nd0_sleepdaily$DSQUAL4 = as.numeric(d0_sleepdaily$DSQUAL4)\n\nd0_sleepdaily$DSQUAL5[d0_sleepdaily$B4AD520==\"(1) VERY GOOD\"] <- \"1\"\nd0_sleepdaily$DSQUAL5[d0_sleepdaily$B4AD520==\"(2) 2\"] <- \"2\"\nd0_sleepdaily$DSQUAL5[d0_sleepdaily$B4AD520==\"(3) 3\"] <- \"3\"\nd0_sleepdaily$DSQUAL5[d0_sleepdaily$B4AD520==\"(4) 4\"] <- \"4\"\nd0_sleepdaily$DSQUAL5[d0_sleepdaily$B4AD520==\"(5) VERY POOR\"] <- \"5\"\nd0_sleepdaily$DSQUAL5 = as.numeric(d0_sleepdaily$DSQUAL5)\n\nd0_sleepdaily$DSQUAL6[d0_sleepdaily$B4AD620==\"(1) VERY GOOD\"] <- \"1\"\nd0_sleepdaily$DSQUAL6[d0_sleepdaily$B4AD620==\"(2) 2\"] <- \"2\"\nd0_sleepdaily$DSQUAL6[d0_sleepdaily$B4AD620==\"(3) 3\"] <- \"3\"\nd0_sleepdaily$DSQUAL6[d0_sleepdaily$B4AD620==\"(4) 4\"] <- \"4\"\nd0_sleepdaily$DSQUAL6[d0_sleepdaily$B4AD620==\"(5) VERY POOR\"] <- \"5\"\nd0_sleepdaily$DSQUAL6 = as.numeric(d0_sleepdaily$DSQUAL6)\n\nd0_sleepdaily$DSQUAL7[d0_sleepdaily$B4AD720==\"(1) VERY GOOD\"] <- \"1\"\nd0_sleepdaily$DSQUAL7[d0_sleepdaily$B4AD720==\"(2) 2\"] <- \"2\"\nd0_sleepdaily$DSQUAL7[d0_sleepdaily$B4AD720==\"(3) 3\"] <- \"3\"\nd0_sleepdaily$DSQUAL7[d0_sleepdaily$B4AD720==\"(4) 4\"] <- \"4\"\nd0_sleepdaily$DSQUAL7[d0_sleepdaily$B4AD720==\"(5) VERY POOR\"] <- \"5\"\nd0_sleepdaily$DSQUAL7 = as.numeric(d0_sleepdaily$DSQUAL7)\n\nd0_sleepdaily$DSQUAL <-  (d0_sleepdaily$DSQUAL1 + \n                           d0_sleepdaily$DSQUAL2 +\n                           d0_sleepdaily$DSQUAL3 +\n                           d0_sleepdaily$DSQUAL4 +\n                           d0_sleepdaily$DSQUAL5 +\n                           d0_sleepdaily$DSQUAL6 +\n                           d0_sleepdaily$DSQUAL7)/7\n\nd0_sleepdaily$TRSLEEP1[d0_sleepdaily$B4AD113==\"(1) YES\"] <- \"1\"\nd0_sleepdaily$TRSLEEP1[d0_sleepdaily$B4AD113==\"(2) NO\"] <- \"2\"\nd0_sleepdaily$TRSLEEP1 = as.numeric(d0_sleepdaily$TRSLEEP1)\n\nd0_sleepdaily$TRSLEEP3[d0_sleepdaily$B4AD313==\"(1) YES\"] <- \"1\"\nd0_sleepdaily$TRSLEEP3[d0_sleepdaily$B4AD313==\"(2) NO\"] <- \"2\"\nd0_sleepdaily$TRSLEEP3 = as.numeric(d0_sleepdaily$TRSLEEP3)\n\nd0_sleepdaily$TRSLEEP4[d0_sleepdaily$B4AD413==\"(1) YES\"] <- \"1\"\nd0_sleepdaily$TRSLEEP4[d0_sleepdaily$B4AD413==\"(2) NO\"] <- \"2\"\nd0_sleepdaily$TRSLEEP4 = as.numeric(d0_sleepdaily$TRSLEEP4)\n\nd0_sleepdaily$TRSLEEP5[d0_sleepdaily$B4AD513==\"(1) YES\"] <- \"1\"\nd0_sleepdaily$TRSLEEP5[d0_sleepdaily$B4AD513==\"(2) NO\"] <- \"2\"\nd0_sleepdaily$TRSLEEP5 = as.numeric(d0_sleepdaily$TRSLEEP5)\n\nd0_sleepdaily$TRSLEEP6[d0_sleepdaily$B4AD613==\"(1) YES\"] <- \"1\"\nd0_sleepdaily$TRSLEEP6[d0_sleepdaily$B4AD613==\"(2) NO\"] <- \"2\"\nd0_sleepdaily$TRSLEEP6 = as.numeric(d0_sleepdaily$TRSLEEP6)\n\nd0_sleepdaily$TRSLEEP7[d0_sleepdaily$B4AD713==\"(1) YES\"] <- \"1\"\nd0_sleepdaily$TRSLEEP7[d0_sleepdaily$B4AD713==\"(2) NO\"] <- \"2\"\nd0_sleepdaily$TRSLEEP7 = as.numeric(d0_sleepdaily$TRSLEEP7)\n\nd0_sleepdaily$START1 = d0_sleepdaily(myData$B4AD18,\"%Y-%m-%d %H:%M:%S\")\n\n#####RESHAPING DATA#####\n\n\n# Create squared Sleep Duration term to use in regression for curvilinear (quadratic) relationship with cognition\n#  Get the mean SleepDuration, then subtract it from each person's score, then multiply the centered variables together\n\n\n#Drop outlier EF\nPSQ <- d0_PSQ[ which(d0_PSQ$B3TEFZ3 > -4.00), ]\n\n#Sleep duration term\nPSQ$DurationC <- PSQ$B4S4 - 6.888\nPSQ$Duration2 <- PSQ$DurationC * PSQ$DurationC\n\n\n########## DESCRIPTIVE STATISTICS\n\n##Run descriptive stats on ds00 (dataset with daily sleep variables dropped)\n\n#with psych pkg\nlibrary(psych)\ndescribe(d0_sleepdaily)\nsummary(d0_sleepdaily)\n\nlibrary(psych)\ndescribe(ds0daily_nomissing)\n\n\n# For Correlations, see: http://www.statmethods.net/stats/correlations.html\n\n\n# GRAPHICAL look at data\n\n# Basic Scatterplot Matrix - so you can scan them all quickly\npairs(~B3TEMZ3+B3TEFZ3+SDis+B4S4+DurationC+Duration2,data=PSQ, \n      main=\"Scatterplot Matrix\")\n\n# what is the id of the person with a potential outlier?\nds <- ds_PSQ[order(ds_PSQ$B4S4,decreasing=T),]\nhead(ds)\n\n# If you want to highlight just one Simple Scatterplot\nattach(PSQ)\nplot(Duration2, B3TEMZ3, main=\"Scatterplot of Memory by Sleep Duration\", \n     xlab=\"Sleep Duration\", ylab=\"Episodic Memory \", pch=19)\n\n# you can add  fit lines to your scatterplot with:\nabline(lm(DurationC~B3TEMZ3), col=\"red\") # regression line (y~x) \n\n# If you want to make visually stunning graphs for your poster\n# you can try playing around with ggplot2: see  http://www.cookbook-r.com/Graphs/ \n# but lets get the basics done first.\n\n# Multiple Linear Regression for Memory \nfit <- lm(B3TEMZ3 ~ SDis + DurationC + Duration2, data=PSQ)\nsummary(fit) # show results\n# Other useful functions \ncoefficients(fit) # model coefficients\nconfint(fit, level=0.95) # CIs for model parameters \nfitted(fit) # predicted values\nresiduals(fit) # residuals\nanova(fit) # anova table \nvcov(fit) # covariance matrix for model parameters \ninfluence(fit) # regression diagnostics\n# diagnostic plots \nlayout(matrix(c(1,2,3,4),2,2)) # optional 4 graphs/page \nplot(fit)\n\n\n# Multiple Linear Regression for EF \nfit <- lm(B3TEFZ3 ~ WAKE, data=d0_sleepdaily)\nsummary(fit) # show results\n# Other useful functions \ncoefficients(fit) # model coefficients\nconfint(fit, level=0.95) # CIs for model parameters \nfitted(fit) # predicted values\nresiduals(fit) # residuals\nanova(fit) # anova table \nvcov(fit) # covariance matrix for model parameters \ninfluence(fit) # regression diagnostics\n# diagnostic plots \nlayout(matrix(c(1,2,3,4),2,2)) # optional 4 graphs/page \nplot(fit)\n\n\n##LINEAR REGRESSION MODELS\n\nB4S5 <- c(\"B4S5\")\nSqual <- as.numeric(levels(B4S5))[B4S5]\n\n# Pittsburgh Sleep Quality Inventory:\n# Hypothesis 1: Individuals who rate poorer sleep quality have poorer cognition relative to individuals who rate higher sleep quality.\n\n#memory\nfit_h1_1 <- lm(B3TEMZ3 ~ SQUAL, data=PSQ)\nsummary(fit_h1_1) # show results\n\n#EF\nfit_h1_2 <- lm(B3TEFZ3 ~ SQUAL, data=PSQ)\nsummary(fit_h1_2) # show results\n\n# Hypothesis 2: There is an association between sleep duration and cognition in that sleep duration predicts cognitive scores.\n\n#memory\nfit_h2_1 <- lm(B3TEMZ3 ~ DurationC + Duration2, data=PSQ)\nsummary(fit_h2_1) # show results\n\n#EF\nfit_h2_2 <- lm(B3TEFZ3 ~ DurationC + Duration2, data=PSQ)\nsummary(fit_h2_2) # show results\n\n# Hypothesis 3: There is an association between sleep disturbance and cognition in that sleep disturbance predicts cognitive scores.\n\n#memory\nfit_h3_1 <- lm(B3TEMZ3 ~ SDis, data=PSQ)\nsummary(fit_h3_1) # show results\n\n#EF\nfit_h3_2 <- lm(B3TEFZ3 ~ SDis, data=PSQ)\nsummary(fit_h3_2) # show results\n\n\n#Hypothesis 4: Sleep duration and sleep disturbance together are better predictors of cognitive score compared to each predictor separately.\n\n#memory\nfit_h4_1 <- lm(B3TEMZ3 ~ SDis + DurationC + Duration2, data=PSQ)\nsummary(fit_h4_1) # show results\n\n#EF\nfit_h4_2 <- lm(B3TEFZ3 ~ SDis + DurationC + Duration2, data=PSQ)\nsummary(fit_h4_2) # show results\n\n#                       (Regress Cognition on sleep disturbance, sleep duration & sleepduration squared)\n",
    "created" : 1424685238200.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3044252403",
    "id" : "F23E168E",
    "lastKnownWriteTime" : 1426199464,
    "path" : "~/GitHub/Sleep-MIDUS-Whitehall/Scripts/Data/dsL.R",
    "project_path" : "Scripts/Data/dsL.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}