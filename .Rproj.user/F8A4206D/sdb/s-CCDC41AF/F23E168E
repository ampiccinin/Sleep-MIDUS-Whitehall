{
    "contents" : "# remove all elements for a clean start\nrm(list=ls(all=TRUE))\n\n\n## @knitr LoadData\nload(\"./Data/Raw/25281-0001-Data.rda\")\nload(\"./Data/Raw/29282-0001-Data.rda\")\n\n#load psych pkgmydata <- ds_03\nlibrary(Hmisc)\nds03 <- spss.get(\"./Data/Raw/04652-0001-Data.sav\", use.value.labels=TRUE)\n\n\n\n# General Hypotheses\n# There is an association between sleep disturbance and cognition in that sleep disturbance predicts cognitive scores. (Regress Cognition on sleep disturbance)\n# There is an association between sleep duration and cognition in that sleep duration predicts cognitive scores.  (Regress Cognition on sleep duration & sleepduration squared)\n#       This association will be U-shaped in that lowest scores are associated with short and long sleep (replication of Ferrie et al.)\n# Sleep duration and sleep disturbance together are better predictors of cognitive score compared to each predictor separately.\n#                       (Regress Cognition on sleep disturbance, sleep duration & sleepduration squared)\n \n# Pittsburgh Sleep Quality Inventory:\n# Hypothesis 1: Individuals who rate poorer sleep quality have poorer cognition relative to individuals who rate higher sleep quality.\n# Hypothesis 2: Individuals who regularly have greater amounts of sleep disturbances have poorer cognition relative to individuals who have lower amounts of sleep disturbances.\n#     These could also be regressions, to keep with same analysis as above. \n#       Wherever you are just looking at the association between two variables, you could use correlation.\n\n# On a daily level??\n# Hypothesis 1: On average, individuals who rate higher difficulty getting to sleep have poorer cognition \n#                               relative to individuals who rate lower difficulty getting to sleep.\n# Hypothesis 2: On average, individuals who report higher instances of having difficulty of getting back to sleep have poorer cognition \n#                               relative to individuals who report lower instances of having difficulty getting back to sleep.\n# Hypothesis 3: On average, individuals who rate lower overall quality of sleep on the previous night have poorer cognition \n#                              relative to individuals who report higher overall quality of sleep on the previous night.\n\n# For these, I think you were going to compute average for each person. Once you do this, you could just use regression again. \n\n# Try some of the following resources for Regression in R:\n\n#   http://www.google.ca/webhp?nord=1&gws_rd=cr&ei=ZTn1VIOOCYHuoASLkYGoCg#nord=1&q=regression+in+R \n#   http://www.statmethods.net/stats/regression.html\n#   \n\n# Notes: Want to look for sex differences.\n#   If you code sex as male=0 and female=1, you can include sex as another predictor in your regression\n#              and the parameter estimate will equal the mean difference between men and women.\n#   I tend to label such a variable \"female\" so I remember which is the reference group\n#      (i.e., the ref group is male, so the estimate tells how much higher (or lower if it is negative) the women are)\n\n# Something we have not talked about is that since older people tend to not sleep as well,\n#                 you should probably also include age as a predictor in your regressions.\n#  You might also want to look at the interaction between age and sleep disturbance (etc) in case poor sleep has a greater effect in older (or younger) adults\n#  If you want to create an interaction term, you should \"center\" each variable first by subtracting the mean from each person's score\n#        and then multiply the centered variables together\n\n\n\n\n\n\nds01 <- da25281.0001\nds02 <- da29282.0001\nstr(ds01)\n\nds0 <- merge(ds01,ds02,by=\"M2ID\", all=TRUE)\n\n\n# Object with MIDUS II participant variables from ds0.\nMIDUS_pvars <- c('M2ID', 'B1PAGE_M2.x', 'B1PGENDER.x')\n\n# Object with MIDUS II sleep variables from ds0.\nMIDUS_sleepvars <- c( 'M2ID',\n'B4S4',      'B4S5',      'B4S7',    \n'B4S11A',   'B4S11B',     'B4S11C',    'B4S11D',    'B4S11E',    'B4S11F',    'B4S11G',      'B4S11H',    'B4S11I',    'B4S11J',\n  \n'B4AD17', 'B4AD27', 'B4AD37', 'B4AD47', 'B4AD57', 'B4AD67', 'B4AD77',\n\n'B4AD110', 'B4AD210', 'B4AD310', 'B4AD410', 'B4AD510', 'B4AD610', 'B4AD710', \n\n'B4AD111', 'B4AD211', 'B4AD311', 'B4AD411', 'B4AD511', 'B4AD611', 'B4AD711',\n\n'B4AD113',   'B4AD213',   'B4AD313',   'B4AD413',   'B4AD513',   'B4AD613',   'B4AD713',  \n\n'B4AD120',  'B4AD220',  'B4AD320',  'B4AD420',  'B4AD520',  'B4AD620',  'B4AD720',  \n\n\n'B4AD18', 'B4AD18A', 'B4AD28', 'B4AD28A', 'B4AD38', 'B4AD38A', 'B4AD48', 'B4AD48A', 'B4AD58', 'B4AD58A', 'B4AD68', 'B4AD68A', 'B4AD78', 'B4AD78A',\n\n'B4AD19', 'B4AD29', 'B4AD39', 'B4AD49', 'B4AD59', 'B4AD69', 'B4AD79',\n\n'B4AD115',  'B4AD215',  'B4AD315',  'B4AD415',  'B4AD515',  'B4AD615',  'B4AD715', \n'B4AD115A', 'B4AD215A', 'B4AD315A', 'B4AD415A', 'B4AD515A', 'B4AD615A', 'B4AD715A')\n\n# Object with MIDUS II cognitive variables from ds0.\nMIDUS_cogvars <- c('M2ID', 'B3TCOMPZ3', 'B3TEMZ3', 'B3TEFZ3')\n\n\n# Object with all MIDUS II variables of interest.\nMIDUS_all <- c('M2ID', 'B1PAGE_M2.x', 'B1PGENDER.x', \n               'B4S4',      'B4S5',      'B4S7',    \n               'B4S11A',   'B4S11B',     'B4S11C',    'B4S11D',    'B4S11E',    'B4S11F',    'B4S11G',      'B4S11H',    'B4S11I',    'B4S11J', \n'B4AD17', 'B4AD27', 'B4AD37', 'B4AD47', 'B4AD57', 'B4AD67', 'B4AD77',\n  \n'B4AD110', 'B4AD210', 'B4AD310', 'B4AD410', 'B4AD510', 'B4AD610', 'B4AD710', \n \n'B4AD111', 'B4AD211', 'B4AD311', 'B4AD411', 'B4AD511', 'B4AD611', 'B4AD711',\n\n'B4AD113',   'B4AD213',   'B4AD313',   'B4AD413',   'B4AD513',   'B4AD613',   'B4AD713',  \n  \n'B4AD120',  'B4AD220',  'B4AD320',  'B4AD420',  'B4AD520',  'B4AD620',  'B4AD720',  \n\n\n'B4AD18', 'B4AD18A', 'B4AD28', 'B4AD28A', 'B4AD38', 'B4AD38A', 'B4AD48', 'B4AD48A', 'B4AD58', 'B4AD58A', 'B4AD68', 'B4AD68A', 'B4AD78', 'B4AD78A',\n\n'B4AD19', 'B4AD29', 'B4AD39', 'B4AD49', 'B4AD59', 'B4AD69', 'B4AD79',\n\n'B4AD115',  'B4AD215',  'B4AD315',  'B4AD415',  'B4AD515',  'B4AD615',  'B4AD715', \n'B4AD115A', 'B4AD215A', 'B4AD315A', 'B4AD415A', 'B4AD515A', 'B4AD615A', 'B4AD715A,\n\n'B3TCOMPZ3', 'B3TEMZ3', 'B3TEFZ3')\n\n#object with MIDUS daily sleep variables\nMIDUS_sleepdaily <- c( \n  'M2ID',\n  'B4AD17', 'B4AD27', 'B4AD37', 'B4AD47', 'B4AD57', 'B4AD67', 'B4AD77',\n  \n  'B4AD110', 'B4AD210', 'B4AD310', 'B4AD410', 'B4AD510', 'B4AD610', 'B4AD710', \n  \n  'B4AD111', 'B4AD211', 'B4AD311', 'B4AD411', 'B4AD511', 'B4AD611', 'B4AD711',\n  \n  'B4AD113',   'B4AD213',   'B4AD313',   'B4AD413',   'B4AD513',   'B4AD613',   'B4AD713',  \n  \n  'B4AD120',  'B4AD220',  'B4AD320',  'B4AD420',  'B4AD520',  'B4AD620',  'B4AD720',  \n  \n  \n  'B4AD18', 'B4AD18A', 'B4AD28', 'B4AD28A', 'B4AD38', 'B4AD38A', 'B4AD48', 'B4AD48A', 'B4AD58', 'B4AD58A', 'B4AD68', 'B4AD68A', 'B4AD78', 'B4AD78A',\n  \n  'B4AD19', 'B4AD29', 'B4AD39', 'B4AD49', 'B4AD59', 'B4AD69', 'B4AD79',\n  \n  'B4AD115',  'B4AD215',  'B4AD315',  'B4AD415',  'B4AD515',  'B4AD615',  'B4AD715', \n  'B4AD115A', 'B4AD215A', 'B4AD315A', 'B4AD415A', 'B4AD515A', 'B4AD615A', 'B4AD715A')\n\n\n# MIDUS_pvars codes:\n# M2ID = Participant ID number\n# B1PAGE_M2 = Age deterimined by subtracting DOB_Final from b1ipdate\n# B1PGENDER = Gender\n# B4ZAGE = Respondent age at P4 data collection (Biomarker project)\n\n# MIDUS_cogvars codes:\n# B3TCOMPZ3 = Z-score Brief Test of Adult Cognition by Telephone for complete sample (MIDUS + Milkwaukee)\n# B3TEMZ3 = Z-score Episodic memory computer for complete sample (MIDUS + Milwaukee)\n# B3TEFZ3 = Z-score executive functioning for complete sample (MIDUS + Milwaulkee)\n\n\n#object with MIDUS II variables to control for\nMIDUS_controls <- c('M2ID', 'B1PF8A', 'B1PB1', 'B1SBMI', 'B1SA11T', 'B1SA1', 'B1PA1', 'B1PA1', 'B1PA6A', 'B1SA11S')\n\n##codes:\n#race B1PF8A\n#education B1PB1\n#BMI - B1SBMI\n#depression - B1SA11T\n#health status - B1SA1\n#physical health - B1PA1\n#psychological health - B1PA1\n#stroke - B1PA6A\n#hypertension - B1SA11S\n\n#Variables pulled out of ds0\ndspvars <- ds0[MIDUS_pvars]\ndscog <- ds0[MIDUS_cogvars]\ndssleep <-ds0[MIDUS_sleepvars]\nds_ALL <-ds0[MIDUS_all]\ndscontrol <- ds03[MIDUS_controls]\n\n\n#ds0 is now all variables of interest\nds0 <- merge(ds_ALL,dscontrol,by=\"M2ID\")\n\n#Data set with daily variables\ndsdaily1 <- ds0[MIDUS_sleepdaily]\ndsdaily <- merge(dsdaily1,dscontrol,by=\"M2ID\")\n\n#ds0 with daily sleep variables dropped\nMIDUS_sleepdaily <- names(ds0) %in% c(\n  'B4AD17',    'B4AD27',    'B4AD37',    'B4AD47',    'B4AD57',    'B4AD67',    'B4AD77',  \n  'B4AD110',   'B4AD210',   'B4AD310',   'B4AD410',   'B4AD510',   'B4AD610',   'B4AD710',  \n  'B4AD113',   'B4AD213',   'B4AD313',   'B4AD413',   'B4AD513',   'B4AD613',   'B4AD713',  \n  'B4AD117',   'B4AD217',   'B4AD317',   'B4AD417',   'B4AD517',   'B4AD617',   'B4AD717',   \n  'B4AD120',  'B4AD220',  'B4AD320',  'B4AD420',  'B4AD520',  'B4AD620',  'B4AD720',  \n  'B4AD118',  'B4AD218',  'B4AD318',  'B4AD418',  'B4AD518',  'B4AD618',  'B4AD718', \n  'B4AD115',  'B4AD215',  'B4AD315',  'B4AD415',  'B4AD515',  'B4AD615',  'B4AD715', \n  'B4AD115A', 'B4AD215A', 'B4AD315A', 'B4AD415A', 'B4AD515A', 'B4AD615A', 'B4AD715A')\nds00 <- ds0[!MIDUS_sleepdaily]\n\n#ds0 with PSQ sleep variables dropped\nMIDUS_sleepPSQ <- names(ds0) %in% c(\n  'B4S4', 'B4S5', 'B4S7', 'B4S11A', 'B4S11B', 'B4S11C', 'B4S11D',    \n  'B4S11E', 'B4S11F', 'B4S11G', 'B4S11H', 'B4S11I', 'B4S11J')\nds0daily <- ds0[!MIDUS_sleepPSQ] \n\n# create new dataset without missing data \nds00_nomissing <- na.omit(ds00)\nds0_nomissing <- na.omit(ds0)\nds0daily_nomissing <- na.omit(ds0daily)\n\ndsdailydiary <- na.omit(dsdaily)\n\n#Convert GENDER to numeric in ds00_nomissing\nds00_nomissing$GENDER[ds00_nomissing$B1PGENDER.x==\"(1) MALE\"] <- \"1\"\nds00_nomissing$GENDER[ds00_nomissing$B1PGENDER.x==\"(2) FEMALE\"] <- \"2\"\nds00_nomissing$GENDER = as.numeric(ds00_nomissing$GENDER)\n#checks to see if it is numeric:\nis.numeric(ds00_nomissing$GENDER)\n\n#Convert Sleep Quality to numeric in ds00_nomissing\n#Fairly, Good, Fairly Bad, Very Bad is condensed into \"Bad\" containing both groups\nds00_nomissing$SQUAL[ds00_nomissing$B4S5==\"(1) 1=VERY GOOD\"] <- \"1\"\nds00_nomissing$SQUAL[ds00_nomissing$B4S5==\"(2) 2=FAIRLY GOOD\"] <- \"2\"\nds00_nomissing$SQUAL[ds00_nomissing$B4S5==\"(3) 3=FAIRLY BAD\"] <- \"2\"\nds00_nomissing$SQUAL[ds00_nomissing$B4S5==\"(4) 4=VERY BAD\"] <- \"2\"\nds00_nomissing$SQUAL = as.numeric(ds00_nomissing$SQUAL)\n#checks to see if it is numeric:\nis.numeric(ds00_nomissing$SQUAL)\n\n#Convert Sleep Disturbance to numeric in ds00_nomissing\nds00_nomissing$SDISA[ds00_nomissing$B4S11A==\"(1) 1=NOT DURING PAST MONTH\"] <- \"1\"\nds00_nomissing$SDISA[ds00_nomissing$B4S11A==\"(2) 2=LESS THAN 1 X WEEK\"] <- \"2\"\nds00_nomissing$SDISA[ds00_nomissing$B4S11A==\"(3) 3=1-2 X WEEK\"] <- \"3\"\nds00_nomissing$SDISA[ds00_nomissing$B4S11A==\"(4) 4=3+ WEEK\"] <- \"4\"\nds00_nomissing$SDISA = as.numeric(ds00_nomissing$SDISA)\n\n#####\n\nds00_nomissing$SDISB[ds00_nomissing$B4S11B==\"(1) 1=NOT DURING PAST MONTH\"] <- \"1\"\nds00_nomissing$SDISB[ds00_nomissing$B4S11B==\"(2) 2=LESS THAN 1 X WEEK\"] <- \"2\"\nds00_nomissing$SDISB[ds00_nomissing$B4S11B==\"(3) 3=1-2 X WEEK\"] <- \"3\"\nds00_nomissing$SDISB[ds00_nomissing$B4S11B==\"(4) 4=3+ WEEK\"] <- \"4\"\nds00_nomissing$SDISB = as.numeric(ds00_nomissing$SDISB)\n\n#####\n\nds00_nomissing$SDISC[ds00_nomissing$B4S11C==\"(1) 1=NOT DURING PAST MONTH\"] <- \"1\"\nds00_nomissing$SDISC[ds00_nomissing$B4S11C==\"(2) 2=LESS THAN 1 X WEEK\"] <- \"2\"\nds00_nomissing$SDISC[ds00_nomissing$B4S11C==\"(3) 3=1-2 X WEEK\"] <- \"3\"\nds00_nomissing$SDISC[ds00_nomissing$B4S11C==\"(4) 4=3+ WEEK\"] <- \"4\"\nds00_nomissing$SDISC = as.numeric(ds00_nomissing$SDISC)\n\n\n#####\n\nds00_nomissing$SDISD[ds00_nomissing$B4S11D==\"(1) 1=NOT DURING PAST MONTH\"] <- \"1\"\nds00_nomissing$SDISD[ds00_nomissing$B4S11D==\"(2) 2=LESS THAN 1 X WEEK\"] <- \"2\"\nds00_nomissing$SDISD[ds00_nomissing$B4S11D==\"(3) 3=1-2 X WEEK\"] <- \"3\"\nds00_nomissing$SDISD[ds00_nomissing$B4S11D==\"(4) 4=3+ WEEK\"] <- \"4\"\nds00_nomissing$SDISD = as.numeric(ds00_nomissing$SDISD)\n\n#####\n\nds00_nomissing$SDISE[ds00_nomissing$B4S11E==\"(1) 1=NOT DURING PAST MONTH\"] <- \"1\"\nds00_nomissing$SDISE[ds00_nomissing$B4S11E==\"(2) 2=LESS THAN 1 X WEEK\"] <- \"2\"\nds00_nomissing$SDISE[ds00_nomissing$B4S11E==\"(3) 3=1-2 X WEEK\"] <- \"3\"\nds00_nomissing$SDISE[ds00_nomissing$B4S11E==\"(4) 4=3+ WEEK\"] <- \"4\"\nds00_nomissing$SDISE = as.numeric(ds00_nomissing$SDISE)\n\n#####\n\nds00_nomissing$SDISF[ds00_nomissing$B4S11F==\"(1) 1=NOT DURING PAST MONTH\"] <- \"1\"\nds00_nomissing$SDISF[ds00_nomissing$B4S11F==\"(2) 2=LESS THAN 1 X WEEK\"] <- \"2\"\nds00_nomissing$SDISF[ds00_nomissing$B4S11F==\"(3) 3=1-2 X WEEK\"] <- \"3\"\nds00_nomissing$SDISF[ds00_nomissing$B4S11F==\"(4) 4=3+ WEEK\"] <- \"4\"\nds00_nomissing$SDISF = as.numeric(ds00_nomissing$SDISF)\n\n#####\n\nds00_nomissing$SDISG[ds00_nomissing$B4S11G==\"(1) 1=NOT DURING PAST MONTH\"] <- \"1\"\nds00_nomissing$SDISG[ds00_nomissing$B4S11G==\"(2) 2=LESS THAN 1 X WEEK\"] <- \"2\"\nds00_nomissing$SDISG[ds00_nomissing$B4S11G==\"(3) 3=1-2 X WEEK\"] <- \"3\"\nds00_nomissing$SDISG[ds00_nomissing$B4S11G==\"(4) 4=3+ WEEK\"] <- \"4\"\nds00_nomissing$SDISG = as.numeric(ds00_nomissing$SDISG)\n\n#####\n\nds00_nomissing$SDISH[ds00_nomissing$B4S11H==\"(1) 1=NOT DURING PAST MONTH\"] <- \"1\"\nds00_nomissing$SDISH[ds00_nomissing$B4S11H==\"(2) 2=LESS THAN 1 X WEEK\"] <- \"2\"\nds00_nomissing$SDISH[ds00_nomissing$B4S11H==\"(3) 3=1-2 X WEEK\"] <- \"3\"\nds00_nomissing$SDISH[ds00_nomissing$B4S11H==\"(4) 4=3+ WEEK\"] <- \"4\"\nds00_nomissing$SDISH = as.numeric(ds00_nomissing$SDISH)\n\n#####\n\nds00_nomissing$SDISI[ds00_nomissing$B4S11I==\"(1) 1=NOT DURING PAST MONTH\"] <- \"1\"\nds00_nomissing$SDISI[ds00_nomissing$B4S11I==\"(2) 2=LESS THAN 1 X WEEK\"] <- \"2\"\nds00_nomissing$SDISI[ds00_nomissing$B4S11I==\"(3) 3=1-2 X WEEK\"] <- \"3\"\nds00_nomissing$SDISI[ds00_nomissing$B4S11I==\"(4) 4=3+ WEEK\"] <- \"4\"\nds00_nomissing$SDISI = as.numeric(ds00_nomissing$SDISI)\n\n#####\n\nds00_nomissing$SDISJ[ds00_nomissing$B4S11J==\"(1) 1=NOT DURING PAST MONTH\"] <- \"1\"\nds00_nomissing$SDISJ[ds00_nomissing$B4S11J==\"(2) 2=LESS THAN 1 X WEEK\"] <- \"2\"\nds00_nomissing$SDISJ[ds00_nomissing$B4S11J==\"(3) 3=1-2 X WEEK\"] <- \"3\"\nds00_nomissing$SDISJ[ds00_nomissing$B4S11J==\"(4) 4=3+ WEEK\"] <- \"4\"\nds00_nomissing$SDISJ = as.numeric(ds00_nomissing$SDISJ)\n\n#checks to see if it is numeric:\n#switch SDIS_ to letter of choice\nis.numeric(ds00_nomissing$SDISA)\n\n\n#Syntax to SUM Sleep Disturbance scores\nds00_nomissing$SDis <- ds00_nomissing$SDISA + ds00_nomissing$SDISB + ds00_nomissing$SDISC + ds00_nomissing$SDISD + ds00_nomissing$SDISE + ds00_nomissing$SDISF + ds00_nomissing$SDISG + ds00_nomissing$SDISH + ds00_nomissing$SDISI + ds00_nomissing$SDISJ\n\n\n# I don't know the names of your actual variables, so I've just made some up below\n# I am hoping you can edit these examples with your real variable names and get them to run\n\n# Create squared Sleep Duration term to use in regression for curvilinear (quadratic) relationship with cognition\n#  Get the mean SleepDuration, then subtract it from each person's score, then multiply the centered variables together\n\n\n#drop outlier EF\nds_PSQ <- ds00_nomissing[ which(ds00_nomissing$B3TEFZ3 > -4.00), ]\n\n\nds_PSQ$DurationC <- ds_PSQ$B4S4 - 6.888\nds_PSQ$Duration2 <- ds_PSQ$DurationC * ds_PSQ$DurationC\n\n\n########## DESCRIPTIVE STATISTICS\n\n##Run descriptive stats on ds00 (dataset with daily sleep variables dropped)\n\n#with psych pkg\nlibrary(psych)\ndescribe(ds_PSQ)\n\nlibrary(psych)\ndescribe(ds0daily_nomissing)\n\n\n# For Correlations, see: http://www.statmethods.net/stats/correlations.html\n\n\n# GRAPHICAL look at data\n\n# Basic Scatterplot Matrix - so you can scan them all quickly\npairs(~B3TEMZ3+B3TEFZ3+SDis+B4S4+DurationC+Duration2,data=ds_PSQ, \n      main=\"Scatterplot Matrix\")\n\n# what is the id of the person with a potential outlier?\nds <- ds_PSQ[order(ds_PSQ$B4S4,decreasing=T),]\nhead(ds)\n\n# If you want to highlight just one Simple Scatterplot\nattach(ds00_nomissing)\nplot(B3TEMZ3, SDis, main=\"Scatterplot of Cognition by Sleep Disturbance\", \n     xlab=\"Sleep Quality\", ylab=\"Cognitive Variable \", pch=19)\n\n# you can add  fit lines to your scatterplot with:\nabline(lm(B3TEMZ3~SDis), col=\"red\") # regression line (y~x) \n\n# If you want to make visually stunning graphs for your poster\n# you can try playing around with ggplot2: see  http://www.cookbook-r.com/Graphs/ \n# but lets get the basics done first.\n\n# Multiple Linear Regression for Memory \nfit <- lm(B3TEMZ3 ~ SDis + DurationC + Duration2, data=ds)\nsummary(fit) # show results\n# Other useful functions \ncoefficients(fit) # model coefficients\nconfint(fit, level=0.95) # CIs for model parameters \nfitted(fit) # predicted values\nresiduals(fit) # residuals\nanova(fit) # anova table \nvcov(fit) # covariance matrix for model parameters \ninfluence(fit) # regression diagnostics\n# diagnostic plots \nlayout(matrix(c(1,2,3,4),2,2)) # optional 4 graphs/page \nplot(fit)\n\n\n# Multiple Linear Regression for EF \nfit <- lm(B3TEFZ3 ~ SDis + DurationC + Duration2, data=ds)\nsummary(fit) # show results\n# Other useful functions \ncoefficients(fit) # model coefficients\nconfint(fit, level=0.95) # CIs for model parameters \nfitted(fit) # predicted values\nresiduals(fit) # residuals\nanova(fit) # anova table \nvcov(fit) # covariance matrix for model parameters \ninfluence(fit) # regression diagnostics\n# diagnostic plots \nlayout(matrix(c(1,2,3,4),2,2)) # optional 4 graphs/page \nplot(fit)\n\n\n##LINEAR REGRESSION MODELS\n\nB4S5 <- c(\"B4S5\")\nSqual <- as.numeric(levels(B4S5))[B4S5]\n\n# Pittsburgh Sleep Quality Inventory:\n# Hypothesis 1: Individuals who rate poorer sleep quality have poorer cognition relative to individuals who rate higher sleep quality.\n\n#memory\nfit_h1_1 <- lm(B3TEMZ3 ~ SQUAL, data=ds_PSQ)\nsummary(fit_h1_1) # show results\n\n#EF\nfit_h1_2 <- lm(B3TEFZ3 ~ SQUAL, data=ds_PSQ)\nsummary(fit_h1_2) # show results\n\n# Hypothesis 2: There is an association between sleep duration and cognition in that sleep duration predicts cognitive scores.\n\n#memory\nfit_h2_1 <- lm(B3TEMZ3 ~ DurationC + Duration2, data=ds_PSQ)\nsummary(fit_h2_1) # show results\n\n#EF\nfit_h2_2 <- lm(B3TEFZ3 ~ Sdur1 + Sdur, data=ds_PSQ)\nsummary(fit_h2_2) # show results\n\n# Hypothesis 3: There is an association between sleep disturbance and cognition in that sleep disturbance predicts cognitive scores.\n\n#memory\nfit_h3_1 <- lm(B3TEMZ3 ~ SDis, data=ds_PSQ)\nsummary(fit_h3_1) # show results\n\n#EF\nfit_h3_2 <- lm(B3TEFZ3 ~ SDis, data=ds_PSQ)\nsummary(fit_h3_2) # show results\n\n\n#Hypothesis 4: Sleep duration and sleep disturbance together are better predictors of cognitive score compared to each predictor separately.\n\n#memory\nfit_h4_1 <- lm(B3TEMZ3 ~ SDis + Sdur1 + Sdur, data=ds_PSQ)\nsummary(fit_h4_1) # show results\n\n#EF\nfit_h4_2 <- lm(B3TEFZ3 ~ SDis + Sdur1 + Sdur, data=ds_PSQ)\nsummary(fit_h4_2) # show results\n\n#                       (Regress Cognition on sleep disturbance, sleep duration & sleepduration squared)\n",
    "created" : 1424685238200.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3007834581",
    "id" : "F23E168E",
    "lastKnownWriteTime" : 1425887888,
    "path" : "~/GitHub/Sleep-MIDUS-Whitehall/Scripts/Data/dsL.R",
    "project_path" : "Scripts/Data/dsL.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}